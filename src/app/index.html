<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="Content/css/reko.css" />
    <script src="Content/js/jquery.min.js"></script>
    <style>
        #klikme {
            border: solid 1px black;
            display: inline-block;
            cursor: pointer
        }

        #klikme:hover {
            background-color: #802D2D
        }
    </style>
</head>
<body>
    <input id="loadfile" type="file" button="Load image" />
    <div id="klikme">Disassemble some random X86 code</div>
    <br />
    <div id="dasmWin" class="reko-dasm">

    </div>
    <script type="text/javascript">
        $(document).ready(() => {
            $("#klikme").bind("click", e => {
                executeRun();
            });
        });

        function OnScanComplete(e) {
            $("#dasmWin").html(e);
        }

        function executeRun() {
            //var content = document.getElementById("demoscript").value;
            var postData = { "framename": "alldemoframe", "script": "@@@content" };
            var request = {
                "method": "POST",
                "url": "/executejavascript/execute",
                "parameters": null,
                "postData": JSON.stringify(postData),
            };

            window.cefQuery({
                request: JSON.stringify(request),
                onSuccess: function (response) {
                    response = JSON.parse(response);
                }, onFailure: function (err, msg) {
                    console.log(err, msg);
                }
            });
        }
    </script>

</body>
</html>